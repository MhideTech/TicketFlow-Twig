{# templates/components/sidebar.twig #}
{% import 'components/_lucide_icon.twig' as icon %}

{% set current_path = app.request.uri %}

{% set nav_items = [
    { path: '/dashboard', label: 'Dashboard', icon: 'layout-dashboard' },
    { path: '/tickets', label: 'All Tickets', icon: 'ticket' }
] %}

<aside class="w-64 bg-white border-r border-gray-200 flex-shrink-0 hidden lg:flex flex-col">
    <div class="h-16 flex items-center px-6 border-b border-gray-200">
        <a href="/dashboard" class="flex items-center gap-2">
            {{ icon.render('ticket', 28, 'text-green-600') }}
            <span class="font-bold text-xl text-gray-900">TicketFlow</span>
        </a>
    </div>

    <nav class="flex-1 p-4 space-y-2">
        {% for item in nav_items %}
            {% set is_active = current_path starts with item.path %}
            <a href="{{ item.path }}"
               class="flex items-center gap-3 px-4 py-2.5 rounded-md text-sm font-medium transition-colors
                      {% if is_active %}
                          bg-green-50 text-green-600
                      {% else %}
                          text-gray-600 hover:bg-gray-100 hover:text-gray-900
                      {% endif %}">
                {{ icon.render(item.icon, 20) }}
                <span>{{ item.label }}</span>
            </a>
        {% endfor %}
    </nav>

    <div class="p-4 mt-auto border-t border-gray-200">
        <a href="/logout"
           class="flex items-center gap-3 px-4 py-2.5 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 hover:text-red-600 transition-colors">
            {{ icon.render('log-out', 20) }}
            <span>Logout</span>
        </a>
    </div>
</aside>
